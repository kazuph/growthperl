use ExtUtils::MakeMaker;

WriteMakefile(
    NAME          => 'GrowthPerl',
    AUTHOR        => 'Kazuhiro Homma',
    VERSION_FROM  => 'lib/GrowthPerl.pm',
    PREREQ_PM     => {
        'Amon2'                                => '3.32',
        'Amon2::DBI'                           => '0.06',
        'DBD::SQLite'                          => '1.33',
        'Data::Dump'                           => '1.21',
        'Diff::LibXDiff'                       => '0.05',
        'HTML::FillInForm::Lite'               => '1.09',
        'IO::Scalar'                           => '2.110',
        'JSON'                                 => '2.50',
        'Log::Minimal'                         => '0.13',
        'Module::Find'                         => '0.11',
        'Plack::Middleware::AxsLog'            => '0.02',
        'Plack::Middleware::Debug'             => '0.14',
        'Plack::Middleware::Log::Minimal'      => '0.06',
        'Plack::Middleware::ReverseProxy'      => '0.09',
        'Plack::Middleware::Session'           => '0.15',
        'Plack::Middleware::Scope::Container'  => '0.03',
        'Plack::Middleware::Profiler::KYTProf' => '0.04',
        'Plack::Session::Store::Redis'         => '0.03',
        'Plack::Session'                       => '0.14',
        'Cache::Memcached::Fast'               => '0.19',
        'Data::MessagePack'                    => '0.46',
        'Scope::Container::DBI'                => '0.08',
        'Starman'                              => '0.3005',
        'String::CamelCase'                    => '0.02',
        'Test::More'                           => '0.98',
        'Test::WWW::Mechanize::PSGI'           => '0.35',
        'Text::Xslate'                         => '1.5006',
        'Text::Xslate::Bridge::TT2Like'        => '0.00008',
        'Time::Out'                            => '0.11',
        'Time::Piece'                          => '1.20',
        'YAML::XS'                             => '0.38',
    },
    MIN_PERL_VERSION => '5.008001',
    (-d 'xt' and $ENV{AUTOMATED_TESTING} || $ENV{RELEASE_TESTING}) ? (
        test => {
            TESTS => 't/*.t xt/*.t',
        },
    ) : (),
);
